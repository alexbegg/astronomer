
# Default values for postgres-operator.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

images:
  operator:
    repository: registry.opensource.zalan.do/acid/postgres-operator
    tag: v1.8.1
    pullPolicy: IfNotPresent

operator:
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 250Mi
    limits:
      cpu: 500m
      memory: 500Mi


  securityContext:
    runAsUser: 1000
    runAsNonRoot: true
    readOnlyRootFilesystem: true
    allowPrivilegeEscalation: false

  serviceAccount:
    # create specifies whether a service account should be created for the operator.
    create: true

    # annotations to add to the service account
    annotations: {}

    # The name of the ServiceAccount to use.
    # If not set and create is true, a name is generated using the fullname template
    name: ""

  extraEnvs: []
  # In order to use the CRD OperatorConfiguration instead, uncomment these lines and comment out the two lines above
  # - name: POSTGRES_OPERATOR_CONFIGURATION_OBJECT
  #  value: postgresql-operator-default-configuration
  # Define an ID to isolate controllers from each other
  # - name: CONTROLLER_ID
  #   value: "second-operator"

postgres:
  clusterName: acid-minimal-cluster
  tls:
    secretName: astronomer-postgres-tls-secret
    certificateFile: "tls.crt"
    privateKeyFile: "tls.key"
    caSecretName: private-ca
  teamId: "acid"
  volume:
    size: 1Gi
  numberOfInstances: 2
  users:
    zalando:  # database owner
    - superuser
    - createdb
    foo_user: []  # role for application foo
  databases:
    foo: zalando  # dbname: owner
  preparedDatabases:
    bar: {}
  postgresql:
    version: "14"
